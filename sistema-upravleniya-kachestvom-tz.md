# Техническое задание: Платформа "Система управления качеством"

## 1. Общие сведения

### 1.1 Цель проекта
Разработка комплексной веб-платформы для мониторинга и управления качеством работы отделов ОП (Отдел продаж) и Продакшн с использованием современных технологий SPA (Single Page Application).

### 1.2 Назначение системы
Система предназначена для:
- Ручного ввода данных о проверках качества работы менеджеров
- Визуализации показателей эффективности через интерактивные дашборды
- Анализа динамики и тенденций работы сотрудников
- Автоматизации процесса контроля качества

## 2. Архитектура системы

### 2.1 Модульная структура
Платформа состоит из четырех основных модулей:

1. **Стартовая страница** - центральная навигационная панель
2. **Админка ОП** - панель для отдела продаж
3. **Админка Продакшн** - панель для производственного отдела
4. **Дашборды ОП/Продакшн** - аналитические панели

### 2.2 Технологический стек
- **Frontend**: React.js 18+ (SPA)
- **State Management**: Redux Toolkit или Zustand
- **UI-библиотека**: Material-UI или Ant Design
- **Роутинг**: React Router v6
- **Хранение данных**: LocalStorage + возможность экспорта/импорта JSON/CSV
- **Графики**: Chart.js или D3.js
- **Валидация**: Yup или Joi

## 3. Стартовая страница

### 3.1 Функциональность
- Главная навигационная панель с четырьмя основными разделами
- Карточный интерфейс с иконками для каждого модуля
- Адаптивный дизайн для всех устройств

### 3.2 Элементы интерфейса
- **Админка ОП**: иконка настроек, переход к панели отдела продаж
- **Дашборд ОП**: иконка графиков, переход к аналитике продаж
- **Админка Продакшн**: иконка инструментов, переход к панели производства
- **Дашборд Продакшн**: иконка диаграмм, переход к аналитике производства

## 4. Админка ОП (Отдел продаж)

### 4.1 Форма ручного ввода
**Обязательные поля:**
- Дата проверки (input type="date")
- Менеджер (выпадающий список)
- Категория работы (выпадающий список)
- Месяц (выпадающий список)

### 4.2 Показатели для проверки ОП
Чек-лист с возможностью добавления данных по каждому пункту:

**Группа "Работа с КЭВ":**
- Предложили почасовую съемку
- Предложили тарифы
- Предложили примерный просчет с продюсированием
- Предложили встречу
- Предложили видео

**Группа "Сроки":**
- От подтверждения потребности до отправки 3 КП - меньше 15 минут
- От подтверждения потребности до отправки 3 КП - 15-60 мин
- От подтверждения потребности до отправки 3 КП - больше часа

**Группа "Общение с клиентом":**
- Не просили прощения, не извинялись и не "сожалели"
- Легкость, деликатность, профессионализм
- Презентация смежных услуг студии
- Не перешли грань уважение-дружба
- Ответ в течение часа
- Отсутствуют линии оставленные без ответа
- Звонок с клиентом зарезюмирован

### 4.3 Структура данных для каждого показателя
```json
{
  "name": "Название показателя",
  "checked": boolean,
  "link": "URL или текстовая ссылка",
  "comment": "Комментарий",
  "dealId": "ID сделки",
  "screenshot": "Возможность прикрепления файла"
}
```

### 4.4 Действия с записями
- **Кнопка "Добавить"** - сохранение записи в localStorage
- **Кнопка "Очистить"** - удаление конкретной записи
- **Кнопка "Скопировать ссылку"** - копирование в буфер обмена
- **Кнопка "Добавить запись"** - добавление всей формы в систему
- **Кнопка "Очистить ручные записи"** - полная очистка сессии

## 5. Админка Продакшн

### 5.1 Аналогичная структура формы
Те же обязательные поля, что и в Админке ОП

### 5.2 Показатели для проверки Продакшн
**Группа "Управление проектом":**
- Актуальность стадии проекта по канбану
- Верно добавлены все исполнители в сделку
- Заполнены все обязательные поля в Битрикс
- ТЗ прикреплено в сделку файлом в Битрикс
- В сделке есть предоплата

**Группа "Качество работы":**
- Наличие мертвых линий/дубляж ненужных линий
- Ответ в чате в течение 45-ти минут в линии с клиентом
- Поздоровался при первом касании
- Доброжелательность
- Использованы запретные слова в диалоге

**Группа "Клиентский сервис":**
- Сообщил что 1 пакет правок далее платно
- Сообщил 2 месяца облачного хранения файлов
- Работа с ТЗ, точное подтверждение от клиента
- Объяснил используемый термин из словаря

**Группа "Логистика":**
- Сделаны 3 предупреждения о заборе товаров
- Хранение товаров 5+25 рабочих дней
- Отослан номер заказа для забора
- Направлена памятка по забору
- Попросили оставить отзыв

**Группа "Коммуникации":**
- Оставленные линии без ответа в конце рабочего дня
- Звонок с клиентом зарезюмирован

## 6. Дашборды аналитики

### 6.1 Общие требования к дашбордам
- Интерактивные графики и диаграммы
- Фильтрация по месяцам, сотрудникам, показателям
- Экспорт данных в различных форматах
- Адаптивный дизайн

### 6.2 Ключевые метрики для отображения

**Дашборд ОП:**
- Динамика выполнения показателей по месяцам
- Рейтинг менеджеров по качеству работы
- Конверсия по каждому показателю
- Время ответа клиентам
- Процент выполнения KPI по каждому менеджеру

**Дашборд Продакшн:**
- Качество ведения проектов
- Соблюдение процедур и регламентов
- Клиентская удовлетворенность
- Время выполнения этапов
- Процент ошибок и переделок

### 6.3 Типы визуализации
- **Линейные графики** - динамика показателей во времени
- **Столбчатые диаграммы** - сравнение менеджеров
- **Круговые диаграммы** - распределение по категориям
- **Тепловые карты** - активность по дням/часам
- **Метрики-карточки** - ключевые показатели
- **Таблицы** - детализированные данные

### 6.4 Фильтры и сортировка
- **По периоду**: день, неделя, месяц, квартал, год
- **По сотрудникам**: индивидуальные и групповые отчеты
- **По показателям**: выбор конкретных метрик
- **По категориям**: группировка по типам активности

## 7. Система хранения данных

### 7.1 LocalStorage структура
```json
{
  "qualityChecks": [
    {
      "id": "unique-id",
      "date": "2025-09-05",
      "manager": "Иван Иванов",
      "category": "Работа с КЭВ",
      "month": "Сентябрь",
      "department": "OP" | "Production",
      "indicators": [
        {
          "name": "Предложили почасовую съемку",
          "checked": true,
          "link": "https://example.com",
          "comment": "Комментарий",
          "dealId": "CRM-123",
          "screenshot": "base64-encoded-file"
        }
      ],
      "createdAt": "2025-09-05T14:30:00Z",
      "updatedAt": "2025-09-05T14:30:00Z"
    }
  ],
  "settings": {
    "managers": ["Иван Иванов", "Петр Петров"],
    "categories": ["Работа с КЭВ", "Сроки", "Общение с клиентом"]
  }
}
```

### 7.2 Экспорт/импорт данных
- **Экспорт в JSON** - полная структура данных
- **Экспорт в CSV** - табличное представление
- **Импорт из JSON** - восстановление данных
- **Импорт из CSV** - загрузка табличных данных

## 8. Требования к интерфейсу

### 8.1 UI/UX принципы
- **Консистентность** - единый стиль во всех модулях
- **Интуитивность** - понятный интерфейс без обучения
- **Отзывчивость** - быстрая реакция на действия пользователя
- **Адаптивность** - корректная работа на всех устройствах

### 8.2 Цветовая схема (по примеру скриншотов)
- **Основной цвет**: синий градиент (#6366f1 - #8b5cf6)
- **Акцентный цвет**: синий (#3b82f6)
- **Цвет ошибки**: красный (#ef4444)
- **Цвет успеха**: зеленый (#10b981)
- **Фон**: светло-серый (#f8fafc)

### 8.3 Компоненты интерфейса
- **Кнопки**: округлые углы, hover-эффекты
- **Формы**: четкие границы, валидация в реальном времени
- **Модальные окна**: для подтверждения действий
- **Уведомления**: toast-сообщения о результатах операций
- **Загрузчики**: индикаторы процесса обработки

## 9. Техническая реализация

### 9.1 Структура проекта
```
src/
├── components/           # Переиспользуемые компоненты
│   ├── common/          # Общие компоненты
│   ├── forms/           # Формы ввода данных
│   ├── charts/          # Компоненты графиков
│   └── layout/          # Компоненты разметки
├── pages/               # Страницы приложения
│   ├── Dashboard/       # Главная страница
│   ├── AdminOP/         # Админка ОП
│   ├── AdminProduction/ # Админка Продакшн
│   └── Analytics/       # Дашборды аналитики
├── hooks/               # Пользовательские хуки
├── services/            # Сервисы работы с данными
├── store/               # Управление состоянием
├── utils/               # Утилиты и хелперы
└── types/               # TypeScript типы
```

### 9.2 Ключевые компоненты

**QualityCheckForm** - универсальная форма проверки качества
```jsx
interface QualityCheckFormProps {
  department: 'OP' | 'Production';
  indicators: Indicator[];
  onSubmit: (data: QualityCheckData) => void;
}
```

**IndicatorItem** - элемент показателя с полями ввода
```jsx
interface IndicatorItemProps {
  indicator: Indicator;
  onChange: (data: IndicatorData) => void;
  onAdd: () => void;
  onClear: () => void;
}
```

**Dashboard** - компонент дашборда с графиками
```jsx
interface DashboardProps {
  data: QualityCheckData[];
  filters: FilterState;
  onFilterChange: (filters: FilterState) => void;
}
```

### 9.3 Управление состоянием
```typescript
interface AppState {
  qualityChecks: QualityCheckData[];
  filters: FilterState;
  settings: AppSettings;
  loading: boolean;
  error: string | null;
}
```

### 9.4 Валидация данных
- **Обязательные поля** - дата, менеджер, категория
- **Формат ссылок** - валидация URL
- **Длина текста** - ограничения для комментариев
- **Уникальность ID** - проверка дублирования

## 10. Безопасность и производительность

### 10.1 Безопасность
- **XSS защита** - экранирование пользовательских данных
- **Валидация входных данных** - проверка на клиенте и при обработке
- **Безопасное хранение** - шифрование чувствительных данных в localStorage

### 10.2 Производительность
- **Ленивая загрузка** - code splitting для страниц
- **Мемоизация** - React.memo для компонентов
- **Виртуализация** - для больших списков данных
- **Оптимизация изображений** - сжатие прикрепляемых файлов

## 11. Тестирование

### 11.1 Уровни тестирования
- **Unit тесты** - Jest + React Testing Library
- **Интеграционные тесты** - тестирование взаимодействия компонентов
- **E2E тесты** - Cypress для критических пользовательских сценариев

### 11.2 Покрытие тестами
- Критические пользовательские сценарии - 100%
- Компоненты форм - 90%
- Утилиты и хелперы - 85%
- Общее покрытие - не менее 80%

## 12. Развертывание и поддержка

### 12.1 Сборка и развертывание
- **Сборка**: npm run build
- **Хостинг**: статический хостинг (Netlify, Vercel)
- **CI/CD**: автоматизация через GitHub Actions

### 12.2 Мониторинг
- **Аналитика использования** - Google Analytics
- **Отслеживание ошибок** - Sentry
- **Производительность** - Web Vitals

## 13. Документация

### 13.1 Пользовательская документация
- Руководство по работе с каждым модулем
- FAQ по типичным вопросам
- Видео-инструкции для сложных операций

### 13.2 Техническая документация
- API документация компонентов
- Архитектурные решения
- Инструкции по развертыванию

## 14. Этапы реализации

### 14.1 Этап 1 (2-3 недели)
- Настройка проекта и архитектуры
- Создание базовых компонентов
- Реализация стартовой страницы

### 14.2 Этап 2 (3-4 недели)
- Разработка Админки ОП
- Система ввода и валидации данных
- LocalStorage интеграция

### 14.3 Этап 3 (3-4 недели)
- Разработка Админки Продакшн
- Адаптация форм под специфику отдела
- Тестирование функциональности

### 14.4 Этап 4 (4-5 недель)
- Создание дашбордов аналитики
- Интеграция графических библиотек
- Система фильтрации и экспорта

### 14.5 Этап 5 (2-3 недели)
- Финальное тестирование
- Оптимизация производительности
- Подготовка к релизу

## 15. Критерии приемки

### 15.1 Функциональные требования
- ✅ Все формы работают корректно
- ✅ Данные сохраняются в localStorage
- ✅ Дашборды отображают актуальную информацию
- ✅ Фильтрация работает по всем параметрам
- ✅ Экспорт/импорт данных функционирует

### 15.2 Нефункциональные требования
- ✅ Время загрузки страницы < 3 секунд
- ✅ Работа на мобильных устройствах
- ✅ Кроссбраузерность (Chrome, Firefox, Safari, Edge)
- ✅ Отсутствие критических ошибок

### 15.3 Пользовательский опыт
- ✅ Интуитивно понятный интерфейс
- ✅ Быстрая отзывчивость на действия
- ✅ Информативные сообщения об ошибках
- ✅ Сохранение данных при перезагрузке

---

Дополнение к техническому заданию платформы "Система управления качеством"
Списки показателей для отделов
Для Отдела Продаж (ОП)
Группы и показатели:

1. Работа с КЭВ

Предложили почасовую съемку

Предложили тарифы

Предложили примерный просчет с продюсированием

Предложили встречу

Предложили видео

2. Сроки

От подтверждения потребности до отправки 3 КП — меньше 15 минут

От подтверждения потребности до отправки 3 КП — 15-60 минут

От подтверждения потребности до отправки 3 КП — больше часа

3. Общение с клиентом

Не просили прощения, не извинялись и не «сожалели»

Легкость, деликатность, профессионализм

Презентация смежных услуг студии

Не перешли грань уважения-дружбы

Ответ в течение часа

Отсутствуют линии, оставленные без ответа

Звонок с клиентом зарезюмирован

4. Правильность заполнения CRM

Верно определили воронку

Актуально прикреплена открытая линия

Актуальное заполнение обязательных полей

Указаны реквизиты компании

Для Отдела Продакшн
Группы и показатели:


Актуальность стадии проекта по канбану

Верно добавлены все исполнители в сделку

Заполнены все обязательные поля в Битрикс

ТЗ прикреплено в сделку файлом в Битрикс

В сделке есть предоплата

Наличие «мертвых» линий / дубляж ненужных линий

Ответ в чате в течение 45-ти минут в линии с клиентом

Поздоровался при первом касании

Доброжелательность

Использованы запретные слова в диалоге

Сообщил, что 1 пакет правок далее платно

Сообщил 2 месяца облачного хранения файлов

Работа с ТЗ, точное подтверждение от клиента

Объяснил используемый термин из словаря

Сделаны 3 предупреждения о заборе товаров

Хранение товаров 5+25 рабочих дней

Отослан номер заказа для забора

Направлена памятка по забору

Попросили оставить отзыв

Оставленные линии без ответа в конце рабочего дня

Звонок с клиентом зарезюмирован

_____________________
Апеллирование в дашбордах
Возможность апеллирования:
В аналитических дашбордах должна быть предусмотрена функция апеллирования/оспаривания определённых записей и ошибок:

Для каждой ошибки/отметки в чек-листе должно быть поле или кнопка для подачи апелляции (оспаривания).

При апелляции появляется модальное окно или отдельная форма, где пользователь может добавить комментарий, прикрепить дополнительное доказательство или скриншот, пояснить свою позицию.

Статус апелляции должен отображаться в системе: «На рассмотрении», «Оспорено», «Отклонено», «Принято».

Ответственный сотрудник/руководитель получает уведомление о поступившей апелляции.

Просмотр и хранение скриншотов ошибок:
Все скриншоты, приложенные к ошибкам при их фиксировании (или при апелляции), должны быть:

Видимы в интерфейсе дашборда либо карточки проверки (миниатюры + возможность раскрыть на весь экран).

Храниться в привязке к конкретной ошибке/записи (например, внутри структуры объекта записи).

Доступны для просмотра ответственными лицами при рассмотрении апелляции.

Итоговая структура админок и дашбордов
Для каждого показателя сохраняются:

Чекбокс выполнения

Ссылка или скриншот ошибки

Комментарий/примечание

ID сделки

Возможность добавить запись в систему

В случае ошибки — возможность прикрепить скриншот

Возможность апеллировать запись с приложением дополнительной информации

В дашборде:

Фильтрация/поиск по показателям, датам, сотрудникам

Просмотр истории апелляций и их финальных решений

Просмотр приложенных скриншотов/доказательств

Статусы по каждому оспариваемому показателю

Платформа обеспечивает прозрачность, обратную связь, честное рассмотрение спорных случаев с визуальными доказательствами качества работы сотрудников.